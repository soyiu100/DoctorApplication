<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Appointment with Patient</title>
    <th:block th:include="../fragments/header.html"></th:block>
</head>
<body>
<!-- TODO: Need to think about how I want to modify this frag to adjust for session disconnection -->
<!--<th:block th:include="../fragments/navbar.html"></th:block>-->

<!-- If flash attribute 'bad' exists, then make an error message that says the session doesn't exist. -->
<div th:if="${badSession}">
    Session may not exist. Please go back and try selecting the session again?
</div>
<div th:unless="${badSession}" class="d-flex justify-content-center"
     style="padding-top: 2%;
     padding-left:20%;
     padding-right:20%;
     display: block !important;">
    <p th:text="${doctorName}"></p>

    <canvas id="videoPlaceholder" width="800" height="640" style="border:1px solid #d3d3d3;">
        Your browser does not support the HTML5 canvas tag.</canvas>

    <div class="text-center" style="padding-top: 20px;">
        <form action="/disconnect_session" method="post">
            <input type="hidden" id="roomId" name="roomId" th:value="${param.roomId}">
            <input type="submit" class="btn btn-outline-danger" value="Leave Session">
        </form>
    </div>
</div>
</body>
<script>
    var canvas = document.getElementById("videoPlaceholder");
    var ctx = canvas.getContext("2d");
    ctx.font = "12px Arial";
    ctx.fillText("Placeholder for video stream window", 10, 20);

    const image = new Image();
    image.onload = () => {
        ctx.imageSmoothingEnabled = false;
        ctx.drawImage(image, 300, 220,200,200);
    };
    image.src = 'https://static.thenounproject.com/png/1813969-200.png';
</script>
</html>